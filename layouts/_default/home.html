{{ define "main" }}
<div class="home-container">
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title">{{ .Site.Title }}</h1>
            {{ with .Site.Params.description }}
            <p class="hero-description">{{ . }}</p>
            {{ end }}
            <div class="hero-cta">
                <a href="/posts" class="cta-button primary">Read My Blog</a>
                <a href="#about" class="cta-button secondary">About Me</a>
            </div>
        </div>
        <div class="hero-stats">
            <div class="stat-item">
                <span class="stat-number">{{ len (where .Site.RegularPages "Type" "posts") }}</span>
                <span class="stat-label">Posts</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">{{ len .Site.Taxonomies.categories }}</span>
                <span class="stat-label">Categories</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">{{ len .Site.Taxonomies.tags }}</span>
                <span class="stat-label">Tags</span>
            </div>
        </div>
    </section>

    <!-- Featured Posts Section -->
    <section class="featured-posts">
        <h2 class="section-title">Featured Posts</h2>
        <div class="featured-grid">
            {{ range first 3 (where .Site.RegularPages "Params.featured" true) }}
            <article class="featured-card">
                {{ with .Params.image }}
                <div class="card-image" style="background-image: url('{{ . }}')"></div>
                {{ end }}
                <div class="card-content">
                    <h3><a href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
                    <div class="post-meta">
                        <time datetime="{{ .Date.Format " 2006-01-02T15:04:05Z07:00" }}">
                            {{ .Date.Format "January 2, 2006" }}
                        </time>
                        {{ with .Params.categories }}
                        <span class="categories">
                            {{ range . }}
                            <a href="{{ " /categories/" | relLangURL }}{{ . | urlize }}">{{ . }}</a>
                            {{ end }}
                        </span>
                        {{ end }}
                    </div>
                    <p class="summary">{{ .Summary | truncate 120 }}</p>
                </div>
            </article>
            {{ end }}
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about-section">
        <div class="about-content">
            <h2 class="section-title">About Me</h2>
            <div class="about-grid">
                <div class="about-text">
                    <p class="lead">Hi, I'm {{ .Site.Params.author.name }}. I'm a software developer and tech
                        enthusiast.</p>
                    <p>I write about software development, system design, and my experiences in the tech industry. My
                        goal is to share knowledge and help others learn from my journey.</p>
                    {{ if .Site.Params.techtags }}
                    <div class="tech-stack">
                        <h3>Tech Stack</h3>
                        <div class="tech-tags">
                            {{ range .Site.Params.techtags }}
                            <span class="tech-tag">{{ . }}</span>
                            {{ end }}
                        </div>
                    </div>
                    {{ end }}
                </div>
                {{ if .Site.Params.socials }}
                <div class="about-links">
                    <h3>Find me on</h3>
                    <div class="social-links">
                        {{ if .Site.Params.socials.github }}
                        <a href="https://github.com/{{ .Site.Params.author.github }}" class="social-link github"
                            target="_blank" rel="noopener">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path
                                    d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
                                </path>
                            </svg>
                            GitHub
                        </a>
                        {{ end }}
                        {{ if .Site.Params.socials.gitlab }}
                        <a href="https://gitlab.com/{{ .Site.Params.author.gitlab }}" class="social-link gitlab"
                            target="_blank" rel="noopener">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path
                                    d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z">
                                </path>
                            </svg>
                            GitLab
                        </a>
                        {{ end }}
                        {{ if .Site.Params.socials.linkedin }}
                        <a href="https://linkedin.com/in/{{ .Site.Params.author.linkedin }}"
                            class="social-link linkedin" target="_blank" rel="noopener">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path
                                    d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z">
                                </path>
                                <rect x="2" y="9" width="4" height="12"></rect>
                                <circle cx="4" cy="4" r="2"></circle>
                            </svg>
                            LinkedIn
                        </a>
                        {{ end }}
                    </div>
                </div>
                {{ end }}
            </div>
        </div>
    </section>

    <!-- Latest Posts Section -->
    <section class="latest-posts">
        <h2 class="section-title">Latest Posts</h2>
        <div class="posts-grid">
            {{ range first 6 (where .Site.RegularPages "Type" "posts") }}
            <article class="post-card">
                <div class="card-content">
                    <h3><a href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
                    <div class="post-meta">
                        <time datetime="{{ .Date.Format " 2006-01-02T15:04:05Z07:00" }}">
                            {{ .Date.Format "January 2, 2006" }}
                        </time>
                        {{ with .Params.readingTime }}
                        <span class="reading-time">{{ . }} min read</span>
                        {{ end }}
                    </div>
                    <p class="summary">{{ .Summary | truncate 160 }}</p>
                    <div class="card-tags">
                        {{ range .Params.tags }}
                        <span class="tag">{{ . }}</span>
                        {{ end }}
                    </div>
                </div>
            </article>
            {{ end }}
        </div>
        <div class="view-all">
            <a href="/posts" class="view-all-button">View All Posts â†’</a>
        </div>
    </section>

    <!-- Categories Section -->
    {{ with .Site.Taxonomies.categories }}
    <section class="categories-section">
        <h2 class="section-title">Explore Categories</h2>
        <div class="categories-grid">
            {{ range . }}
            <a href="{{ .Page.RelPermalink }}" class="category-card">
                <h3>{{ .Page.Title }}</h3>
                <span class="post-count">{{ .Count }} posts</span>
            </a>
            {{ end }}
        </div>
    </section>
    {{ end }}

    <!-- Newsletter Section -->
    {{ if .Site.Params.newsletter }}
    <section class="newsletter-section">
        <div class="newsletter-content">
            <h2>Stay Updated</h2>
            <p>Get notified about new posts and updates.</p>
            <form class="newsletter-form" action="{{ .Site.Params.newsletter.url }}" method="POST">
                <input type="email" placeholder="Enter your email" required>
                <button type="submit">Subscribe</button>
            </form>
        </div>
    </section>
    {{ end }}
</div>
{{ end }}